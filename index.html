<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Flower Circle Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-area">
        <!-- Flowers will be dynamically added here -->
    </div>
    <script src="script.js"></script>
</body>
</html>
body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #f0f8ff;
    margin: 0;
}

#game-area {
    position: relative;
    width: 80vw;
    height: 80vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.flower {
    position: absolute;
    width: 50px;
    height: 50px;
    background-color: pink;
    border-radius: 50%;
    cursor: pointer;
    transition: transform 0.5s;
}

.small-flower {
    width: 25px;
    height: 25px;
}
document.addEventListener('DOMContentLoaded', () => {
    const gameArea = document.getElementById('game-area');
    const numFlowers = 8;
    const radius = 200;

    let flowers = [];

    function createFlower(x, y, size = 50) {
        const flower = document.createElement('div');
        flower.classList.add('flower');
        if (size === 25) {
            flower.classList.add('small-flower');
        }
        flower.style.width = `${size}px`;
        flower.style.height = `${size}px`;
        flower.style.left = `${x}px`;
        flower.style.top = `${y}px`;
        flower.clicked = false;
        flower.addEventListener('click', () => handleFlowerClick(flower));
        gameArea.appendChild(flower);
        return flower;
    }

    function positionFlowers() {
        for (let i = 0; i < numFlowers; i++) {
            const angle = (i / numFlowers) * (2 * Math.PI);
            const x = radius * Math.cos(angle) + (gameArea.clientWidth / 2) - 25;
            const y = radius * Math.sin(angle) + (gameArea.clientHeight / 2) - 25;
            flowers.push(createFlower(x, y));
        }
    }

    function handleFlowerClick(flower) {
        if (!flower.clicked) {
            flower.clicked = true;
            flower.style.transform = 'scale(1.5)';
            setTimeout(() => {
                flower.style.transform = 'scale(1)';
            }, 500);
        } else {
            gameArea.removeChild(flower);
            const flowerRect = flower.getBoundingClientRect();
            const x = flowerRect.left - gameArea.getBoundingClientRect().left + flowerRect.width / 2;
            const y = flowerRect.top - gameArea.getBoundingClientRect().top + flowerRect.height / 2;
            flowers.push(createFlower(x - 12.5, y - 12.5, 25));
            flowers.push(createFlower(x + 12.5, y + 12.5, 25));
            adjustFlowerCircle();
        }
    }

    function adjustFlowerCircle() {
        const newRadius = radius - 10;
        flowers.forEach((flower, index) => {
            const angle = (index / flowers.length) * (2 * Math.PI);
            const x = newRadius * Math.cos(angle) + (gameArea.clientWidth / 2) - flower.clientWidth / 2;
            const y = newRadius * Math.sin(angle) + (gameArea.clientHeight / 2) - flower.clientHeight / 2;
            flower.style.left = `${x}px`;
            flower.style.top = `${y}px`;
        });
    }

    positionFlowers();
});
